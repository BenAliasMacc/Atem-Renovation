{"ast":null,"code":"import _slicedToArray from\"C:/Users/raymo/Desktop/atem-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from'react';import'./Questions.css';import'./QuestionsResponsives.css';import questionsData from'../Data/data.json';import{Footer}from'./Footer';import Compteur from'./Compteur';import closeButton from\"../Assets/closeButton.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Questions=function Questions(_ref){var setOpenModalForm=_ref.setOpenModalForm,setOpenModalValidation=_ref.setOpenModalValidation,hideModal=_ref.hideModal,setHideModal=_ref.setHideModal;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeQuestion=_useState2[0],setActiveQuestion=_useState2[1];var data=questionsData.data[activeQuestion];var length=data.choices.length;var numberOfQuestions=questionsData.data.length;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),answer=_useState6[0],setAnswer=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var radiosWrapper=useRef();console.log(answer);useEffect(function(){var findCheckedInput=data.inputType===\"radio\"&&radiosWrapper.current.querySelector('input:checked');if(findCheckedInput){findCheckedInput.checked=false;}},[data]);var changeHandler=function changeHandler(e){setSelected(e.target.value);if(error){setError('');}};var closeModal=function closeModal(){setOpenModalForm(false);};var handleHideModal=function handleHideModal(){setHideModal(\"hide\");};var test=function test(e){e.stopPropagation();};var handleSubmit=function handleSubmit(e){e.preventDefault();setOpenModalForm(false);setOpenModalValidation(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"formulaire-wrapper \".concat(hideModal),onClick:handleHideModal,children:/*#__PURE__*/_jsxs(\"form\",{className:\"formulaire\",onSubmit:function onSubmit(e){return handleSubmit(e);},onClick:test,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question__title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:data.titre}),data.description&&/*#__PURE__*/_jsx(\"p\",{children:data.description})]}),data.inputType===\"radio\"&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(length===2?'question__choices':'question__choices--small-card',\" control\"),ref:radiosWrapper,children:data.choices.map(function(choice,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(length===2?'question__choices__choice':'question__choices__choice--small-card'),children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:choice.name,children:[choice.image&&/*#__PURE__*/_jsx(\"img\",{className:\"radio-image\",src:choice.image,alt:choice.name}),/*#__PURE__*/_jsx(\"p\",{children:choice.name})]}),/*#__PURE__*/_jsx(\"input\",{className:\"radio\",type:\"radio\",name:\"answer\",id:choice.name,value:choice.name,onChange:changeHandler})]},index);})}),data.inputType!==\"radio\"&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"input\",{type:data.inputs[0].inputType,placeholder:data.inputs[0].placeholder,onChange:changeHandler,value:selected})}),/*#__PURE__*/_jsx(Footer,{data:data,numberOfQuestions:numberOfQuestions,error:error,setError:setError,activeQuestion:activeQuestion,onSetActiveQuestion:setActiveQuestion,selected:selected,setSelected:setSelected,setAnswer:setAnswer}),/*#__PURE__*/_jsx(Compteur,{activeQuestion:activeQuestion,numberOfQuestions:numberOfQuestions}),/*#__PURE__*/_jsx(\"div\",{className:\"closeButton\",onClick:closeModal,children:/*#__PURE__*/_jsx(\"img\",{className:\"test\",src:closeButton,alt:\"fermeture modale\"})})]})});};export default Questions;","map":{"version":3,"sources":["C:/Users/raymo/Desktop/atem-main/src/components/Questions/Components/Questions.jsx"],"names":["React","useRef","useState","useEffect","questionsData","Footer","Compteur","Questions","setOpenModalForm","setOpenModalValidation","hideModal","setHideModal","activeQuestion","setActiveQuestion","data","length","choices","numberOfQuestions","selected","setSelected","answer","setAnswer","error","setError","radiosWrapper","console","log","findCheckedInput","inputType","current","querySelector","checked","changeHandler","e","target","value","closeModal","handleHideModal","test","stopPropagation","handleSubmit","preventDefault","titre","description","map","choice","index","name","image","inputs","placeholder","closeButton"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\nimport './Questions.css'\r\nimport './QuestionsResponsives.css'\r\nimport questionsData from '../Data/data.json'\r\nimport { Footer } from './Footer'\r\nimport Compteur from './Compteur'\r\nimport closeButton from '../Assets/closeButton.svg'\r\n\r\nconst Questions = ({setOpenModalForm, setOpenModalValidation, hideModal, setHideModal }) => {\r\n\r\n    const [activeQuestion, setActiveQuestion] = useState(0);\r\n    const data = questionsData.data[activeQuestion]\r\n    const length = data.choices.length\r\n    const numberOfQuestions = questionsData.data.length\r\n\r\n    const [selected, setSelected] = useState('');\r\n    const [answer, setAnswer] = useState('')\r\n    const [error, setError] = useState('');\r\n    \r\n    const radiosWrapper = useRef();\r\n\r\n    console.log(answer);\r\n\r\n    useEffect(() => {\r\n      const findCheckedInput = data.inputType === \"radio\" && radiosWrapper.current.querySelector('input:checked');\r\n      if(findCheckedInput) {\r\n        findCheckedInput.checked = false;\r\n      }\r\n    }, [data]);\r\n    \r\n    const changeHandler = (e) => {\r\n        setSelected(e.target.value);\r\n        if(error) {\r\n            setError('');\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setOpenModalForm(false)\r\n    };\r\n\r\n    const handleHideModal = () => {\r\n        setHideModal(\"hide\")\r\n    };\r\n\r\n    const test = e => {\r\n        e.stopPropagation()\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setOpenModalForm(false)\r\n        setOpenModalValidation(true)\r\n    }\r\n\r\n    return (\r\n        <div className={`formulaire-wrapper ${hideModal}`} onClick={handleHideModal}>\r\n            <form className='formulaire' onSubmit={e => handleSubmit(e)} onClick={test}> \r\n                \r\n                <div className='question__title'>\r\n                    <h2>{data.titre}</h2>\r\n                    {data.description && <p>{data.description}</p>}\r\n                </div>\r\n\r\n                {/* input radio */}\r\n                {data.inputType === \"radio\" && <div className={`${length === 2 ? 'question__choices' : 'question__choices--small-card'} control`} ref={radiosWrapper}>\r\n                    {data.choices.map((choice, index) => (\r\n                        <div className={`${length === 2 ? 'question__choices__choice' : 'question__choices__choice--small-card'}`} key={index}>\r\n                            <label htmlFor={choice.name}>\r\n                                {choice.image && <img className='radio-image' src={choice.image} alt={choice.name}/>}\r\n                                <p>{choice.name}</p>\r\n                            </label>\r\n                            <input className='radio' type=\"radio\" name=\"answer\" id={choice.name} value={choice.name} onChange={changeHandler}/>\r\n                        </div>\r\n                    ))}\r\n                </div>}\r\n\r\n                {data.inputType !== \"radio\" && (\r\n                    <>\r\n                        <input type={data.inputs[0].inputType} placeholder={data.inputs[0].placeholder} onChange={changeHandler} value={selected}/>\r\n                    </>\r\n                )}\r\n                \r\n                <Footer data={data} numberOfQuestions={numberOfQuestions} error={error} setError={setError} activeQuestion={activeQuestion} onSetActiveQuestion={setActiveQuestion} selected={selected} setSelected={setSelected} setAnswer={setAnswer}/>\r\n\r\n                <Compteur activeQuestion={activeQuestion} numberOfQuestions={numberOfQuestions}/>\r\n\r\n                <div className='closeButton' onClick={closeModal}><img className='test' src={closeButton} alt='fermeture modale'/></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Questions"]},"metadata":{},"sourceType":"module"}