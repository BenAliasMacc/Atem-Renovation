{"ast":null,"code":"import _slicedToArray from\"C:/Users/raymo/Desktop/atem-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef,useState,useEffect}from'react';import'./Questions.css';import questionsData from'../Data/data.json';import{Footer}from'./Footer';import Compteur from'./Compteur';import closeButton from\"../Assets/closeButton.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Questions=function Questions(_ref){var setOpenModalForm=_ref.setOpenModalForm,setOpenModalValidation=_ref.setOpenModalValidation;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeQuestion=_useState2[0],setActiveQuestion=_useState2[1];var data=questionsData.data[activeQuestion];var length=data.choices.length;var numberOfQuestions=questionsData.data.length;var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),selected=_useState4[0],setSelected=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),answer=_useState6[0],setAnswer=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var radiosWrapper=useRef();console.log(answer);useEffect(function(){var findCheckedInput=data.inputType===\"radio\"&&radiosWrapper.current.querySelector('input:checked');if(findCheckedInput){findCheckedInput.checked=false;}},[data]);var changeHandler=function changeHandler(e){setSelected(e.target.value);if(error){setError('');}};var closeModal=function closeModal(){setOpenModalForm(false);};var test=function test(e){e.stopPropagation();};var handleSubmit=function handleSubmit(e){e.preventDefault();setOpenModalForm(false);setOpenModalValidation(true);};return/*#__PURE__*/_jsx(\"div\",{className:\"formulaire-wrapper\",onClick:closeModal,children:/*#__PURE__*/_jsxs(\"form\",{className:\"formulaire\",onSubmit:function onSubmit(e){return handleSubmit(e);},onClick:test,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question__title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:data.titre}),data.description&&/*#__PURE__*/_jsx(\"p\",{children:data.description})]}),data.inputType===\"radio\"&&/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(length===2?'question__choices':'question__choices--small-card',\" control\"),ref:radiosWrapper,children:data.choices.map(function(choice,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(length===2?'question__choices__choice':'question__choices__choice--small-card'),children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:choice.name,children:[choice.image&&/*#__PURE__*/_jsx(\"img\",{className:\"radio-image\",src:choice.image,alt:choice.name}),/*#__PURE__*/_jsx(\"p\",{children:choice.name})]}),/*#__PURE__*/_jsx(\"input\",{className:\"radio\",type:\"radio\",name:\"answer\",id:choice.name,value:choice.name,onChange:changeHandler})]},index);})}),data.inputType!==\"radio\"&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"input\",{type:data.inputs[0].inputType,placeholder:data.inputs[0].placeholder,onChange:changeHandler,value:selected})}),/*#__PURE__*/_jsx(Footer,{data:data,numberOfQuestions:numberOfQuestions,error:error,setError:setError,activeQuestion:activeQuestion,onSetActiveQuestion:setActiveQuestion,selected:selected,setSelected:setSelected,setAnswer:setAnswer}),/*#__PURE__*/_jsx(Compteur,{activeQuestion:activeQuestion,numberOfQuestions:numberOfQuestions}),/*#__PURE__*/_jsx(\"div\",{className:\"closeButton\",onClick:closeModal,children:/*#__PURE__*/_jsx(\"img\",{className:\"test\",src:closeButton,alt:\"fermeture modale\"})})]})});};export default Questions;","map":{"version":3,"sources":["C:/Users/raymo/Desktop/atem-main/src/components/Questions/Components/Questions.jsx"],"names":["React","useRef","useState","useEffect","questionsData","Footer","Compteur","Questions","setOpenModalForm","setOpenModalValidation","activeQuestion","setActiveQuestion","data","length","choices","numberOfQuestions","selected","setSelected","answer","setAnswer","error","setError","radiosWrapper","console","log","findCheckedInput","inputType","current","querySelector","checked","changeHandler","e","target","value","closeModal","test","stopPropagation","handleSubmit","preventDefault","titre","description","map","choice","index","name","image","inputs","placeholder","closeButton"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect } from 'react'\r\nimport './Questions.css'\r\nimport questionsData from '../Data/data.json'\r\nimport { Footer } from './Footer'\r\nimport Compteur from './Compteur'\r\nimport closeButton from '../Assets/closeButton.svg'\r\nconst Questions = ({setOpenModalForm, setOpenModalValidation}) => {\r\n\r\n    const [activeQuestion, setActiveQuestion] = useState(0);\r\n    const data = questionsData.data[activeQuestion]\r\n    const length = data.choices.length\r\n    const numberOfQuestions = questionsData.data.length\r\n\r\n    const [selected, setSelected] = useState('');\r\n    const [answer, setAnswer] = useState('')\r\n    const [error, setError] = useState('');\r\n    const radiosWrapper = useRef();\r\n\r\n    console.log(answer);\r\n\r\n    useEffect(() => {\r\n      const findCheckedInput = data.inputType === \"radio\" && radiosWrapper.current.querySelector('input:checked');\r\n      if(findCheckedInput) {\r\n        findCheckedInput.checked = false;\r\n      }\r\n    }, [data]);\r\n    \r\n    const changeHandler = (e) => {\r\n        setSelected(e.target.value);\r\n        if(error) {\r\n            setError('');\r\n        }\r\n    };\r\n\r\n    const closeModal = () => {\r\n        setOpenModalForm(false)\r\n    };\r\n\r\n    const test = e => {\r\n        e.stopPropagation()\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        setOpenModalForm(false)\r\n        setOpenModalValidation(true)\r\n    }\r\n\r\n    return (\r\n        <div className='formulaire-wrapper' onClick={closeModal}>\r\n            <form className='formulaire' onSubmit={e => handleSubmit(e)} onClick={test}> \r\n                <div className='question__title'>\r\n                    <h2>{data.titre}</h2>\r\n                    {data.description && <p>{data.description}</p>}\r\n                </div>\r\n\r\n                {/* input radio */}\r\n                {data.inputType === \"radio\" && <div className={`${length === 2 ? 'question__choices' : 'question__choices--small-card'} control`} ref={radiosWrapper}>\r\n                    {data.choices.map((choice, index) => (\r\n                        <div className={`${length === 2 ? 'question__choices__choice' : 'question__choices__choice--small-card'}`} key={index}>\r\n                            <label htmlFor={choice.name}>\r\n                                {choice.image && <img className='radio-image' src={choice.image} alt={choice.name}/>}\r\n                                <p>{choice.name}</p>\r\n                            </label>\r\n                            <input className='radio' type=\"radio\" name=\"answer\" id={choice.name} value={choice.name} onChange={changeHandler}/>\r\n                        </div>\r\n                    ))}\r\n                </div>}\r\n\r\n                {data.inputType !== \"radio\" && (\r\n                    <>\r\n                        <input type={data.inputs[0].inputType} placeholder={data.inputs[0].placeholder} onChange={changeHandler} value={selected}/>\r\n                    </>\r\n                )}\r\n                \r\n                <Footer data={data} numberOfQuestions={numberOfQuestions} error={error} setError={setError} activeQuestion={activeQuestion} onSetActiveQuestion={setActiveQuestion} selected={selected} setSelected={setSelected} setAnswer={setAnswer}/>\r\n\r\n                <Compteur activeQuestion={activeQuestion} numberOfQuestions={numberOfQuestions}/>\r\n\r\n                <div className='closeButton' onClick={closeModal}><img className='test' src={closeButton} alt='fermeture modale'/></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Questions"]},"metadata":{},"sourceType":"module"}